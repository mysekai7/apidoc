<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { width: 320px; padding: 16px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 13px; }
  h3 { font-size: 15px; margin-bottom: 12px; }
  .status-row { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; }
  .dot { width: 10px; height: 10px; border-radius: 50%; }
  .dot.on { background: #c00; animation: pulse 1s infinite; }
  .dot.off { background: #ccc; }
  @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }
  .count { font-weight: 600; }
  .section { margin-bottom: 12px; }
  label { display: block; font-size: 12px; color: #666; margin-bottom: 4px; }
  input, textarea { width: 100%; padding: 6px 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; }
  textarea { height: 60px; resize: vertical; }
  .actions { display: flex; flex-direction: column; gap: 6px; }
  button { padding: 8px; border: 1px solid #ccc; border-radius: 4px; cursor: pointer; font-size: 12px; background: #fff; }
  button:hover { background: #f5f5f5; }
  button.primary { background: #0066cc; color: #fff; border-color: #0066cc; }
  button.primary:hover { background: #0055aa; }
  button.success { background: #28a745; color: #fff; border-color: #28a745; }
  button.success:hover { background: #218838; }
  button:disabled { opacity: 0.5; cursor: not-allowed; }
  .msg { font-size: 11px; color: #666; margin-top: 8px; padding: 6px; background: #f8f8f8; border-radius: 4px; display: none; }
  .msg.error { color: #c00; background: #fee; }
  .msg.success { color: #080; background: #efe; }
</style>
</head>
<body>
<h3>ðŸ“„ API Doc Recorder</h3>

<div class="status-row">
  <div id="dot" class="dot off"></div>
  <span id="statusText">Idle</span>
  <span> â€” </span>
  <span id="countText" class="count">0</span> requests
</div>

<div class="section">
  <label>Scenario Description</label>
  <textarea id="scenario" placeholder="e.g. Create a new namespace and deploy an app"></textarea>
</div>

<div class="section">
  <label>Backend URL</label>
  <input id="backendUrl" type="text" value="http://127.0.0.1:3000" placeholder="http://127.0.0.1:3000">
</div>

<div class="actions">
  <button id="btnExportHAR">ðŸ“¥ Export as HAR</button>
  <button id="btnSendBackend" class="success">ðŸš€ Send to Backend & Generate</button>
</div>

<div id="message" class="msg"></div>

<script src="popup.js"></script>
</body>
</html>
